var counsellingData={},counsellingDataSelect2={};!function(t,e){for(var a=_0xd775,n=_0x4ac4();;)try{if(412165===-parseInt(a(186))/1+parseInt(a(190))/2+-parseInt(a(184))/3*(parseInt(a(191))/4)+-parseInt(a(178))/5+parseInt(a(176))/6+parseInt(a(183))/7*(-parseInt(a(187))/8)+parseInt(a(185))/9*(-parseInt(a(180))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var _0x9ce456=function(){var t=!0;return function(e,a){var n=t?function(){if(a){var t=a.apply(e,arguments);return a=null,t}}:function(){};return t=!1,n}}(),_0x173ce1=_0x9ce456(this,(function(){var t=_0xd775;return _0x173ce1[t(177)]()[t(181)](t(182)).toString().constructor(_0x173ce1).search(t(182))}));function e3(t,e=!0,a=23){var n,s,r=_0xd775,o=void 0===a?2166136261:a;for(n=0,s=t[r(189)];n<s;n++)o^=t[r(179)](n),o+=(o<<13)+(o<<11)+(o<<17)+(o<<7)+(o<<24);if(e){var l="0000000"+(o>>>0)[r(177)](16);return l[r(188)](l[r(189)]-8)}return o>>>0}function _0xd775(t,e){var a=_0x4ac4();return _0xd775=function(t,e){return a[t-=176]},_0xd775(t,e)}function _0x4ac4(){var t=["length","1345168aeSGCm","24cuiesP","4706772OTIkmP","toString","1449105wvzNck","charCodeAt","196870Xtnbxu","search","(((.+)+)+)+$","168rlusgk","215787ZoCbpd","18IqQvYC","156840MnBKhv","42424fPqlcq","substring"];return(_0x4ac4=function(){return t})()}function isFormValid(t){return!!t.checkValidity()&&$.ajax({method:"POST",url:"/api/authorize",async:!1}).responseJSON.key}function formCallback(t){var e=Array(),a=Array(),n=Array(),s=Array(),r=Array(),o=Array();$("#inst-type").select2("data").forEach(((t,a)=>{e.push(t.text)})),$("#inst-name").select2("data").forEach(((t,e)=>{a.push(t.text)})),$("#apname").select2("data").forEach(((t,e)=>{n.push(t.text)})),$("#quota").select2("data").forEach(((t,e)=>{s.push(t.text)})),$("#seat-type").select2("data").forEach(((t,e)=>{r.push(t.text)})),$("#gender").select2("data").forEach(((t,e)=>{o.push(t.text)}));var l={counsellingname:counsellingData.counselling,roundNo:parseInt($("#RoundNo").select2("data")[0].text),rank:parseInt($("#rank").val()),rankBuff:parseInt($("#rank-buff").val()),instts:e,insts:a,apns:n,quotas:s,sts:r,gens:o,key:t,token:e3(t)};$.ajax({method:"POST",url:"/api/counsellingdata",data:JSON.stringify(l),contentType:"application/json",dataType:"json"}).done((t=>{var e=Array();t.data.forEach(((t,a)=>{e.push({instt:t["Institute Type"],inst:t.Institute,apn:t["Academic Program Name"],quota:t.Quota,st:t["Seat Type"],gender:t.Gender,or:t["Opening Rank"],cr:t["Closing Rank"]})})),$("#table").bootstrapTable("load",e)}))}function updateSelectData(t,e){if("string"==typeof t&&Array.isArray(e)){var a=$(t);if(a.length&&a.hasClass("select2-hidden-accessible")){var n=JSON.parse(JSON.stringify(a.data("select2").options.options));n.data=e,a.empty().select2("destroy").select2(n),a.val(null).trigger("change.select2")}else console.error("Element does not exist or not an select2 element")}else console.error("Invalid argument types")}_0x173ce1(),(()=>{"use strict";const t=$(".needs-validation");Array.from(t).forEach((t=>{t.addEventListener("submit",(e=>{e.preventDefault(),e.stopPropagation();var a=isFormValid(t);a?(t.classList.remove("was-validated"),formCallback(a)):t.classList.add("was-validated")}),!1)}))})(),$(".select2-select-single").select2({theme:"bootstrap-5",width:$(this).data("width")?$(this).data("width"):$(this).hasClass("w-100")?"100%":"style",placeholder:$(this).data("placeholder"),closeOnSelect:!0,allowClear:!0}),$(".select2-select-multiple").select2({theme:"bootstrap-5",width:$(this).data("width")?$(this).data("width"):$(this).hasClass("w-100")?"100%":"style",placeholder:$(this).data("placeholder"),closeOnSelect:!1,multiple:!0,allowClear:!1}),$("#table").bootstrapTable({height:750,pagination:!0,paginationPreText:"Previous",paginationNextText:"Next",search:!0,searchAccentNeutralise:!0,trimOnSearch:!1,showColumns:!0,showColumnsToggleAll:!0,showPaginationSwitch:!0,advancedSearch:!0,idTable:"advancedTable",showPrint:!0,showExport:!0,exportDataType:"all",exportTypes:["pdf"],exportOptions:{fileName:"SearchResults",jspdf:{autotable:{styles:{overflow:"linebreak",lineWidth:1,cellPadding:5,fontSize:10,halign:"center",cellWidth:"wrap",columnWidth:"auto"},headerStyles:{halign:"center"},theme:"grid"}}},data:[]}),$("#CounsellingName").on("select2:select",(function(t){$.ajax({method:"POST",url:"/api/counsellinginfo",data:JSON.stringify({counsellingname:t.params.data.text}),contentType:"application/json",dataType:"json"}).done((t=>{counsellingData=t;var e=Array(),a=Array(),n=Array(),s=Array(),r=Array(),o=Array(),l=Array();Array.from({length:t.Rounds},((t,e)=>e+1)).forEach(((t,a)=>{e.push({id:a,text:t})})),t["Institute Types"].forEach(((t,e)=>{a.push({id:e,text:t})})),t.Institutes.forEach(((t,e)=>{n.push({id:e,text:t})})),t["Academic Program Names"].forEach(((t,e)=>{s.push({id:e,text:t})})),t.Quotas.forEach(((t,e)=>{r.push({id:e,text:t})})),t["Seat Types"].forEach(((t,e)=>{o.push({id:e,text:t})})),t.Genders.forEach(((t,e)=>{l.push({id:e,text:t})})),counsellingDataSelect2={s2data_round:e,s2data_instt:a,s2data_inst:n,s2data_apn:s,s2data_quota:r,s2data_st:o,s2data_gen:l},updateSelectData("#RoundNo",e),updateSelectData("#inst-type",a),updateSelectData("#inst-name",n),updateSelectData("#apname",s),updateSelectData("#quota",r),updateSelectData("#seat-type",o),updateSelectData("#gender",l),$(".stage1").prop("disabled",!1),$("#cmessage").text("NOTE: "+t.message),$("#cmessage").removeClass("d-none")}))})),$("#CounsellingName").on("select2:unselect",(function(t){updateSelectData("#RoundNo",[]),updateSelectData("#inst-type",[]),updateSelectData("#inst-name",[]),updateSelectData("#apname",[]),updateSelectData("#quota",[]),updateSelectData("#seat-type",[]),updateSelectData("#gender",[]),$(".stage1").prop("disabled",!0),$(".stage2").prop("disabled",!0),$("#cmessage").text(""),$("#cmessage").addClass("d-none")})),$("#RoundNo").on("select2:select",(function(t){$(".stage2").prop("disabled",!1)})),$("#RoundNo").on("select2:unselect",(function(t){$(".stage2").prop("disabled",!0)})),$("#inst-type").on("change",(function(t){var e=Array();$("#inst-type").select2("data").forEach(((t,a)=>{e.push(t.text)})),0!=e.length?$.ajax({method:"POST",url:"/api/institutetypefilter",data:JSON.stringify({counsellingname:counsellingData.counselling,roundNo:parseInt($("#RoundNo").select2("data")[0].text),instts:e}),contentType:"application/json",dataType:"json"}).done((t=>{var e=Array(),a=Array();t.Institutes.forEach(((t,a)=>{e.push({id:a,text:t})})),t["Academic Program Names"].forEach(((t,e)=>{a.push({id:e,text:t})})),updateSelectData("#inst-name",e),updateSelectData("#apname",a)})):(updateSelectData("#inst-name",counsellingDataSelect2.s2data_inst),updateSelectData("#apname",counsellingDataSelect2.s2data_apn))})),$("#inst-name").on("change",(function(t){var e=Array(),a=Array();$("#inst-type").select2("data").forEach(((t,a)=>{e.push(t.text)})),$("#inst-name").select2("data").forEach(((t,e)=>{a.push(t.text)})),0!==a.length||0!==e.length?$.ajax({method:"POST",url:"/api/institutefilter",data:JSON.stringify({counsellingname:counsellingData.counselling,roundNo:parseInt($("#RoundNo").select2("data")[0].text),instts:e,insts:a}),contentType:"application/json",dataType:"json"}).done((t=>{var e=Array();t["Academic Program Names"].forEach(((t,a)=>{e.push({id:a,text:t})})),updateSelectData("#apname",e)})):updateSelectData("#apname",counsellingDataSelect2.s2data_apn)}));